#include "sll.h"

int sl_sort(Slist **head)
{
	if (*head == NULL)
	{
		return LIST_EMPTY;
	}	
	Slist *temp1=*head;
	Slist *temp2=temp1->link;
	Slist *swap=*head;	
	int flag=0;
	while(temp1->link!=NULL)
	{	
		printf("STRAT\n");
		printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
		while(temp1->link!=NULL)
		{
			if(temp1->data > temp2->data && temp1==*head)
			{
				printf("IF\n");
				printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
				swap=temp2->link;				
				temp2->link=temp1;
				temp1->link=swap;	
				printf("SWAP\n");	
				flag=1;
				*head=temp2;
				swap=temp2;	
				temp2=temp1->link;
				printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
			}
			else if(temp1->data > temp2->data && temp1!=*head)
			{
				printf("IF\n");
				printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
				swap->link=temp2;				
				temp1->link=temp2->link;;
				temp2->link=temp1;	
				printf("SWAP\n");	
				flag=1;
					swap=temp2;		
				temp2=temp1->link;
				printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
			}
			else if(temp1->data < temp2->data) 
			{
				printf("ELSE IF2\n");
				printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
				
				swap=temp1;
				temp1=temp2;
				temp2=temp2->link;
				printf("NO SWP\n");
				flag=0;
				if(temp1->link==NULL)
					break;
				printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
			}			
			if(temp1->data > temp2->data && temp2->link==NULL)			//here temp1->link will become NULL
			{
				printf("EEND\n");
				printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
				swap->link=temp2;				
				temp1->link=NULL;	//
				temp2->link=temp1;	
				flag=1;
				printf("swap=%d,temp1=%d,temp2=%d\n",swap->data,temp1->data,temp2->data);
				printf("BREAK 1st\n");
				//break;
			}	
		}									//while loop END
		if(flag==0)
		{break;}
		temp1=*head;
		temp2=temp1->link;
	}										//While 2 END
	return SUCCESS;
}